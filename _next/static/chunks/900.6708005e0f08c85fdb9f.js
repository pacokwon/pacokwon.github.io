(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[900],{2642:function(t,e,n){"use strict";n.d(e,{Z:function(){return S}});var r=n(3366),o=n(7462),i=n(7294),s=(n(5697),n(6010)),a=n(7463),l=n(1796),p=n(9602),c=n(6122),u=n(3671),d=n(8216),h=n(1420);function f(t){return(0,h.Z)("MuiButton",t)}var m=(0,n(1271).Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),v=n(5893);const g=["children","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],y=t=>(0,o.Z)({},"small"===t.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===t.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===t.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),b=(0,p.ZP)(u.Z,{shouldForwardProp:t=>(0,p.FO)(t)||"classes"===t,name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${(0,d.Z)(n.color)}`],e[`size${(0,d.Z)(n.size)}`],e[`${n.variant}Size${(0,d.Z)(n.size)}`],"inherit"===n.color&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})((({theme:t,ownerState:e})=>(0,o.Z)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:t.shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,o.Z)({textDecoration:"none",backgroundColor:(0,l.Fq)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===e.variant&&"inherit"!==e.color&&{backgroundColor:(0,l.Fq)(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===e.variant&&"inherit"!==e.color&&{border:`1px solid ${t.palette[e.color].main}`,backgroundColor:(0,l.Fq)(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===e.variant&&{backgroundColor:t.palette.grey.A100,boxShadow:t.shadows[4],"@media (hover: none)":{boxShadow:t.shadows[2],backgroundColor:t.palette.grey[300]}},"contained"===e.variant&&"inherit"!==e.color&&{backgroundColor:t.palette[e.color].dark,"@media (hover: none)":{backgroundColor:t.palette[e.color].main}}),"&:active":(0,o.Z)({},"contained"===e.variant&&{boxShadow:t.shadows[8]}),[`&.${m.focusVisible}`]:(0,o.Z)({},"contained"===e.variant&&{boxShadow:t.shadows[6]}),[`&.${m.disabled}`]:(0,o.Z)({color:t.palette.action.disabled},"outlined"===e.variant&&{border:`1px solid ${t.palette.action.disabledBackground}`},"outlined"===e.variant&&"secondary"===e.color&&{border:`1px solid ${t.palette.action.disabled}`},"contained"===e.variant&&{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground})},"text"===e.variant&&{padding:"6px 8px"},"text"===e.variant&&"inherit"!==e.color&&{color:t.palette[e.color].main},"outlined"===e.variant&&{padding:"5px 15px",border:"1px solid "+("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===e.variant&&"inherit"!==e.color&&{color:t.palette[e.color].main,border:`1px solid ${(0,l.Fq)(t.palette[e.color].main,.5)}`},"contained"===e.variant&&{color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],boxShadow:t.shadows[2]},"contained"===e.variant&&"inherit"!==e.color&&{color:t.palette[e.color].contrastText,backgroundColor:t.palette[e.color].main},"inherit"===e.color&&{color:"inherit",borderColor:"currentColor"},"small"===e.size&&"text"===e.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===e.size&&"text"===e.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===e.size&&"outlined"===e.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===e.size&&"outlined"===e.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===e.size&&"contained"===e.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===e.size&&"contained"===e.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})),(({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${m.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${m.disabled}`]:{boxShadow:"none"}})),w=(0,p.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${(0,d.Z)(n.size)}`]]}})((({ownerState:t})=>(0,o.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},y(t)))),x=(0,p.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${(0,d.Z)(n.size)}`]]}})((({ownerState:t})=>(0,o.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},y(t))));var S=i.forwardRef((function(t,e){const n=(0,c.Z)({props:t,name:"MuiButton"}),{children:i,color:l="primary",component:p="button",disabled:u=!1,disableElevation:h=!1,disableFocusRipple:m=!1,endIcon:y,focusVisibleClassName:S,fullWidth:k=!1,size:C="medium",startIcon:M,type:O,variant:R="text"}=n,I=(0,r.Z)(n,g),E=(0,o.Z)({},n,{color:l,component:p,disabled:u,disableElevation:h,disableFocusRipple:m,fullWidth:k,size:C,type:O,variant:R}),z=(t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:l}=t,p={root:["root",s,`${s}${(0,d.Z)(e)}`,`size${(0,d.Z)(i)}`,`${s}Size${(0,d.Z)(i)}`,"inherit"===e&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${(0,d.Z)(i)}`],endIcon:["endIcon",`iconSize${(0,d.Z)(i)}`]},c=(0,a.Z)(p,f,l);return(0,o.Z)({},l,c)})(E),T=M&&(0,v.jsx)(w,{className:z.startIcon,ownerState:E,children:M}),Z=y&&(0,v.jsx)(x,{className:z.endIcon,ownerState:E,children:y});return(0,v.jsxs)(b,(0,o.Z)({ownerState:E,component:p,disabled:u,focusRipple:!m,focusVisibleClassName:(0,s.Z)(z.focusVisible,S),ref:e,type:O},I,{classes:z,children:[T,i,Z]}))}))},2190:function(t,e,n){"use strict";n.d(e,{Z:function(){return pe}});var r=n(7462),o=n(3366),i=n(7294),s=(n(5697),n(6010)),a=n(7463),l=n(9602),p=n(6122),c=n(9766),u=n(1387),d=n(3907);function h({props:t,states:e,muiFormControl:n}){return e.reduce(((e,r)=>(e[r]=t[r],n&&"undefined"===typeof t[r]&&(e[r]=n[r]),e)),{})}var f=i.createContext();function m(){return i.useContext(f)}var v=n(2734),g=n(8216),y=n(1705),b=n(8974),w=n(3881),x=n(5340),S=n(5893);const k=["onChange","maxRows","minRows","style","value"];function C(t,e){return parseInt(t[e],10)||0}const M={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};var O=i.forwardRef((function(t,e){const{onChange:n,maxRows:s,minRows:a=1,style:l,value:p}=t,c=(0,o.Z)(t,k),{current:u}=i.useRef(null!=p),d=i.useRef(null),h=(0,y.Z)(e,d),f=i.useRef(null),m=i.useRef(0),[v,g]=i.useState({}),O=i.useCallback((()=>{const e=d.current,n=(0,x.Z)(e).getComputedStyle(e);if("0px"===n.width)return;const r=f.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const o=n["box-sizing"],i=C(n,"padding-bottom")+C(n,"padding-top"),l=C(n,"border-bottom-width")+C(n,"border-top-width"),p=r.scrollHeight;r.value="x";const c=r.scrollHeight;let u=p;a&&(u=Math.max(Number(a)*c,u)),s&&(u=Math.min(Number(s)*c,u)),u=Math.max(u,c);const h=u+("border-box"===o?i+l:0),v=Math.abs(u-p)<=1;g((t=>m.current<20&&(h>0&&Math.abs((t.outerHeightStyle||0)-h)>1||t.overflow!==v)?(m.current+=1,{overflow:v,outerHeightStyle:h}):t))}),[s,a,t.placeholder]);i.useEffect((()=>{const t=(0,w.Z)((()=>{m.current=0,O()})),e=(0,x.Z)(d.current);let n;return e.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(n=new ResizeObserver(t),n.observe(d.current)),()=>{t.clear(),e.removeEventListener("resize",t),n&&n.disconnect()}}),[O]),(0,b.Z)((()=>{O()})),i.useEffect((()=>{m.current=0}),[p]);return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)("textarea",(0,r.Z)({value:p,onChange:t=>{m.current=0,u||O(),n&&n(t)},ref:h,rows:a,style:(0,r.Z)({height:v.outerHeightStyle,overflow:v.overflow?"hidden":null},l)},c)),(0,S.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:f,tabIndex:-1,style:(0,r.Z)({},M,l,{padding:0})})]})})),R=n(9695);function I(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function E(t,e=!1){return t&&(I(t.value)&&""!==t.value||e&&I(t.defaultValue)&&""!==t.defaultValue)}var z=n(1420),T=n(1271);function Z(t){return(0,z.Z)("MuiInputBase",t)}var A=(0,T.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);const N=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],F=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,"small"===n.size&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${(0,g.Z)(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},$=(t,e)=>{const{ownerState:n}=t;return[e.input,"small"===n.size&&e.inputSizeSmall,n.multiline&&e.inputMultiline,"search"===n.type&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},P=(0,l.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:F})((({theme:t,ownerState:e})=>(0,r.Z)({},t.typography.body1,{color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${A.disabled}`]:{color:t.palette.text.disabled,cursor:"default"}},e.multiline&&(0,r.Z)({padding:"4px 0 5px"},"small"===e.size&&{paddingTop:1}),e.fullWidth&&{width:"100%"}))),B=(0,l.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:$})((({theme:t,ownerState:e})=>{const n="light"===t.palette.mode,o={color:"currentColor",opacity:n?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},s={opacity:n?.42:.5};return(0,r.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${A.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${A.disabled}`]:{opacity:1,WebkitTextFillColor:t.palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===e.size&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===e.type&&{MozAppearance:"textfield",WebkitAppearance:"textfield"})})),j=(0,S.jsx)(R.Z,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}});var W=i.forwardRef((function(t,e){const n=(0,p.Z)({props:t,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:c,autoFocus:w,className:x,components:k={},componentsProps:C={},defaultValue:M,disabled:R,endAdornment:I,fullWidth:z=!1,id:T,inputComponent:A="input",inputProps:F={},inputRef:$,maxRows:W,minRows:D,multiline:L=!1,name:J,onBlur:_,onChange:q,onClick:V,onFocus:H,onKeyDown:K,onKeyUp:U,placeholder:G,readOnly:X,renderSuffix:Q,rows:Y,startAdornment:tt,type:et="text",value:nt}=n,rt=(0,o.Z)(n,N),ot=(0,v.Z)(),it=null!=F.value?F.value:nt,{current:st}=i.useRef(null!=it),at=i.useRef(),lt=i.useCallback((t=>{0}),[]),pt=(0,y.Z)(F.ref,lt),ct=(0,y.Z)($,pt),ut=(0,y.Z)(at,ct),[dt,ht]=i.useState(!1),ft=m();const mt=h({props:n,muiFormControl:ft,states:["color","disabled","error","hiddenLabel","size","required","filled"]});mt.focused=ft?ft.focused:dt,i.useEffect((()=>{!ft&&R&&dt&&(ht(!1),_&&_())}),[ft,R,dt,_]);const vt=ft&&ft.onFilled,gt=ft&&ft.onEmpty,yt=i.useCallback((t=>{E(t)?vt&&vt():gt&&gt()}),[vt,gt]);(0,b.Z)((()=>{st&&yt({value:it})}),[it,yt,st]);i.useEffect((()=>{yt(at.current)}),[]);let bt=A,wt=F;L&&"input"===bt&&(wt=Y?(0,r.Z)({type:void 0,minRows:Y,maxRows:Y},wt):(0,r.Z)({type:void 0,maxRows:W,minRows:D},wt),bt=O);i.useEffect((()=>{ft&&ft.setAdornedStart(Boolean(tt))}),[ft,tt]);const xt=(0,r.Z)({},n,{color:mt.color||"primary",disabled:mt.disabled,endAdornment:I,error:mt.error,focused:mt.focused,formControl:ft,fullWidth:z,hiddenLabel:mt.hiddenLabel,multiline:L,size:mt.size,startAdornment:tt,type:et}),St=(t=>{const{classes:e,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:l,fullWidth:p,hiddenLabel:c,multiline:u,size:d,startAdornment:h,type:f}=t,m={root:["root",`color${(0,g.Z)(n)}`,r&&"disabled",o&&"error",p&&"fullWidth",s&&"focused",l&&"formControl","small"===d&&"sizeSmall",u&&"multiline",h&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",i&&"inputAdornedEnd"]};return(0,a.Z)(m,Z,e)})(xt),kt=k.Root||P,Ct=C.root||{},Mt=k.Input||B;return wt=(0,r.Z)({},wt,C.input),(0,S.jsxs)(i.Fragment,{children:[j,(0,S.jsxs)(kt,(0,r.Z)({},Ct,!(0,d.Z)(kt)&&{ownerState:(0,r.Z)({},xt,Ct.ownerState),theme:ot},{ref:e,onClick:t=>{at.current&&t.currentTarget===t.target&&at.current.focus(),V&&V(t)}},rt,{className:(0,s.Z)(St.root,Ct.className,x),children:[tt,(0,S.jsx)(f.Provider,{value:null,children:(0,S.jsx)(Mt,(0,r.Z)({ownerState:xt,"aria-invalid":mt.error,"aria-describedby":l,autoComplete:c,autoFocus:w,defaultValue:M,disabled:mt.disabled,id:T,onAnimationStart:t=>{yt("mui-auto-fill-cancel"===t.animationName?at.current:{value:"x"})},name:J,placeholder:G,readOnly:X,required:mt.required,rows:Y,value:it,onKeyDown:K,onKeyUp:U,type:et},wt,!(0,d.Z)(Mt)&&{as:bt,ownerState:(0,r.Z)({},xt,wt.ownerState),theme:ot},{ref:ut,className:(0,s.Z)(St.input,wt.className,F.className),onBlur:t=>{_&&_(t),F.onBlur&&F.onBlur(t),ft&&ft.onBlur?ft.onBlur(t):ht(!1)},onChange:(t,...e)=>{if(!st){const e=t.target||at.current;if(null==e)throw new Error((0,u.Z)(1));yt({value:e.value})}F.onChange&&F.onChange(t,...e),q&&q(t,...e)},onFocus:t=>{mt.disabled?t.stopPropagation():(H&&H(t),F.onFocus&&F.onFocus(t),ft&&ft.onFocus?ft.onFocus(t):ht(!0))}}))}),I,Q?Q((0,r.Z)({},mt,{startAdornment:tt})):null]}))]})}));function D(t){return(0,z.Z)("MuiInput",t)}var L=(0,T.Z)("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]);const J=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],_=(0,l.ZP)(P,{shouldForwardProp:t=>(0,l.FO)(t)||"classes"===t,name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...F(t,e),!n.disableUnderline&&e.underline]}})((({theme:t,ownerState:e})=>{const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return(0,r.Z)({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${t.palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${L.focused}:after`]:{transform:"scaleX(1)"},[`&.${L.error}:after`]:{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${L.disabled}):before`]:{borderBottom:`2px solid ${t.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${L.disabled}:before`]:{borderBottomStyle:"dotted"}})})),q=(0,l.ZP)(B,{name:"MuiInput",slot:"Input",overridesResolver:$})({}),V=i.forwardRef((function(t,e){const n=(0,p.Z)({props:t,name:"MuiInput"}),{disableUnderline:i,components:s={},componentsProps:l,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,type:f="text"}=n,m=(0,o.Z)(n,J),v=(t=>{const{classes:e,disableUnderline:n}=t,o={root:["root",!n&&"underline"],input:["input"]},i=(0,a.Z)(o,D,e);return(0,r.Z)({},e,i)})(n),g={root:{ownerState:{disableUnderline:i}}},y=l?(0,c.Z)(l,g):g;return(0,S.jsx)(W,(0,r.Z)({components:(0,r.Z)({Root:_,Input:q},s),componentsProps:y,fullWidth:u,inputComponent:d,multiline:h,ref:e,type:f},m,{classes:v}))}));V.muiName="Input";var H=V;function K(t){return(0,z.Z)("MuiFilledInput",t)}var U=(0,T.Z)("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]);const G=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],X=(0,l.ZP)(P,{shouldForwardProp:t=>(0,l.FO)(t)||"classes"===t,name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...F(t,e),!n.disableUnderline&&e.underline]}})((({theme:t,ownerState:e})=>{const n="light"===t.palette.mode,o=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return(0,r.Z)({position:"relative",backgroundColor:i,borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},[`&.${U.focused}`]:{backgroundColor:i},[`&.${U.disabled}`]:{backgroundColor:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${t.palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${U.focused}:after`]:{transform:"scaleX(1)"},[`&.${U.error}:after`]:{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${U.disabled}):before`]:{borderBottom:`1px solid ${t.palette.text.primary}`},[`&.${U.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&(0,r.Z)({padding:"25px 12px 8px"},"small"===e.size&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),Q=(0,l.ZP)(B,{name:"MuiFilledInput",slot:"Input",overridesResolver:$})((({theme:t,ownerState:e})=>(0,r.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===e.size&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&"small"===e.size&&{paddingTop:8,paddingBottom:9}))),Y=i.forwardRef((function(t,e){const n=(0,p.Z)({props:t,name:"MuiFilledInput"}),{components:i={},componentsProps:s,fullWidth:l=!1,inputComponent:u="input",multiline:d=!1,type:h="text"}=n,f=(0,o.Z)(n,G),m=(0,r.Z)({},n,{fullWidth:l,inputComponent:u,multiline:d,type:h}),v=(t=>{const{classes:e,disableUnderline:n}=t,o={root:["root",!n&&"underline"],input:["input"]},i=(0,a.Z)(o,K,e);return(0,r.Z)({},e,i)})(n),g={root:{ownerState:m},input:{ownerState:m}},y=s?(0,c.Z)(s,g):g;return(0,S.jsx)(W,(0,r.Z)({components:(0,r.Z)({Root:X,Input:Q},i),componentsProps:y,fullWidth:l,inputComponent:u,multiline:d,ref:e,type:h},f,{classes:v}))}));Y.muiName="Input";var tt=Y;const et=["children","classes","className","label","notched"],nt=(0,l.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),rt=(0,l.ZP)("legend",{skipSx:!0})((({ownerState:t,theme:e})=>(0,r.Z)({},void 0===t.label&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},void 0!==t.label&&(0,r.Z)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}))));function ot(t){return(0,z.Z)("MuiOutlinedInput",t)}var it=(0,T.Z)("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]);const st=["components","fullWidth","inputComponent","label","multiline","notched","type"],at=(0,l.ZP)(P,{shouldForwardProp:t=>(0,l.FO)(t)||"classes"===t,name:"MuiOutlinedInput",slot:"Root",overridesResolver:F})((({theme:t,ownerState:e})=>{const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,r.Z)({position:"relative",borderRadius:t.shape.borderRadius,[`&:hover .${it.notchedOutline}`]:{borderColor:t.palette.text.primary},"@media (hover: none)":{[`&:hover .${it.notchedOutline}`]:{borderColor:n}},[`&.${it.focused} .${it.notchedOutline}`]:{borderColor:t.palette[e.color].main,borderWidth:2},[`&.${it.error} .${it.notchedOutline}`]:{borderColor:t.palette.error.main},[`&.${it.disabled} .${it.notchedOutline}`]:{borderColor:t.palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&(0,r.Z)({padding:"16.5px 14px"},"small"===e.size&&{padding:"8.5px 14px"}))})),lt=(0,l.ZP)((function(t){const{className:e,label:n,notched:i}=t,s=(0,o.Z)(t,et),a=(0,r.Z)({},t,{notched:i,label:n});return(0,S.jsx)(nt,(0,r.Z)({"aria-hidden":!0,className:e,ownerState:a},s,{children:(0,S.jsx)(rt,{ownerState:a,children:n?(0,S.jsx)("span",{children:n}):(0,S.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})((({theme:t})=>({borderColor:"light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}))),pt=(0,l.ZP)(B,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:$})((({theme:t,ownerState:e})=>(0,r.Z)({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===e.size&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0}))),ct=i.forwardRef((function(t,e){const n=(0,p.Z)({props:t,name:"MuiOutlinedInput"}),{components:i={},fullWidth:s=!1,inputComponent:l="input",label:c,multiline:u=!1,notched:d,type:h="text"}=n,f=(0,o.Z)(n,st),m=(t=>{const{classes:e}=t,n=(0,a.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ot,e);return(0,r.Z)({},e,n)})(n);return(0,S.jsx)(W,(0,r.Z)({components:(0,r.Z)({Root:at,Input:pt},i),renderSuffix:t=>(0,S.jsx)(lt,{className:m.notchedOutline,label:c,notched:"undefined"!==typeof d?d:Boolean(t.startAdornment||t.filled||t.focused)}),fullWidth:s,inputComponent:l,multiline:u,ref:e,type:h},f,{classes:(0,r.Z)({},m,{notchedOutline:null})}))}));ct.muiName="Input";var ut=ct;function dt(t){return(0,z.Z)("MuiFormLabel",t)}var ht=(0,T.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);const ft=["children","className","color","component","disabled","error","filled","focused","required"],mt=(0,l.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>(0,r.Z)({},e.root,"secondary"===t.color&&e.colorSecondary,t.filled&&e.filled)})((({theme:t,ownerState:e})=>(0,r.Z)({color:t.palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${ht.focused}`]:{color:t.palette[e.color].main},[`&.${ht.disabled}`]:{color:t.palette.text.disabled},[`&.${ht.error}`]:{color:t.palette.error.main}}))),vt=(0,l.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})((({theme:t})=>({[`&.${ht.error}`]:{color:t.palette.error.main}})));var gt=i.forwardRef((function(t,e){const n=(0,p.Z)({props:t,name:"MuiFormLabel"}),{children:i,className:l,component:c="label"}=n,u=(0,o.Z)(n,ft),d=h({props:n,muiFormControl:m(),states:["color","required","focused","disabled","error","filled"]}),f=(0,r.Z)({},n,{color:d.color||"primary",component:c,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),v=(t=>{const{classes:e,color:n,focused:r,disabled:o,error:i,filled:s,required:l}=t,p={root:["root",`color${(0,g.Z)(n)}`,o&&"disabled",i&&"error",s&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",i&&"error"]};return(0,a.Z)(p,dt,e)})(f);return(0,S.jsxs)(mt,(0,r.Z)({as:c,ownerState:f,className:(0,s.Z)(v.root,l),ref:e},u,{children:[i,d.required&&(0,S.jsxs)(vt,{ownerState:f,"aria-hidden":!0,className:v.asterisk,children:["\u2009","*"]})]}))}));function yt(t){return(0,z.Z)("MuiInputLabel",t)}(0,T.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const bt=["disableAnimation","margin","shrink","variant"],wt=(0,l.ZP)(gt,{shouldForwardProp:t=>(0,l.FO)(t)||"classes"===t,name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ht.asterisk}`]:e.asterisk},e.root,!n.formControl&&e.formControl,"small"===n.size&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})((({theme:t,ownerState:e})=>(0,r.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===e.size&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===e.variant&&(0,r.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===e.size&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&(0,r.Z)({transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===e.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===e.variant&&(0,r.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===e.size&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))));var xt=i.forwardRef((function(t,e){const n=(0,p.Z)({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:s}=n,l=(0,o.Z)(n,bt),c=m();let u=s;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const d=h({props:n,muiFormControl:c,states:["size","variant","required"]}),f=(0,r.Z)({},n,{disableAnimation:i,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required}),v=(t=>{const{classes:e,formControl:n,size:o,shrink:i,disableAnimation:s,variant:l,required:p}=t,c={root:["root",n&&"formControl",!s&&"animated",i&&"shrink","small"===o&&"sizeSmall",l],asterisk:[p&&"asterisk"]},u=(0,a.Z)(c,yt,e);return(0,r.Z)({},e,u)})(f);return(0,S.jsx)(wt,(0,r.Z)({"data-shrink":u,ownerState:f,ref:e},l,{classes:v}))})),St=n(8502);function kt(t){return(0,z.Z)("MuiFormControl",t)}(0,T.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Ct=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Mt=(0,l.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>(0,r.Z)({},e.root,e[`margin${(0,g.Z)(t.margin)}`],t.fullWidth&&e.fullWidth)})((({ownerState:t})=>(0,r.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})));var Ot=i.forwardRef((function(t,e){const n=(0,p.Z)({props:t,name:"MuiFormControl"}),{children:l,className:c,color:u="primary",component:d="div",disabled:h=!1,error:m=!1,focused:v,fullWidth:y=!1,hiddenLabel:b=!1,margin:w="none",required:x=!1,size:k="medium",variant:C="outlined"}=n,M=(0,o.Z)(n,Ct),O=(0,r.Z)({},n,{color:u,component:d,disabled:h,error:m,fullWidth:y,hiddenLabel:b,margin:w,required:x,size:k,variant:C}),R=(t=>{const{classes:e,margin:n,fullWidth:r}=t,o={root:["root","none"!==n&&`margin${(0,g.Z)(n)}`,r&&"fullWidth"]};return(0,a.Z)(o,kt,e)})(O),[I,z]=i.useState((()=>{let t=!1;return l&&i.Children.forEach(l,(e=>{if(!(0,St.Z)(e,["Input","Select"]))return;const n=(0,St.Z)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)})),t})),[T,Z]=i.useState((()=>{let t=!1;return l&&i.Children.forEach(l,(e=>{(0,St.Z)(e,["Input","Select"])&&E(e.props,!0)&&(t=!0)})),t})),[A,N]=i.useState(!1);h&&A&&N(!1);const F=void 0===v||h?A:v;const $=i.useCallback((()=>{Z(!0)}),[]),P={adornedStart:I,setAdornedStart:z,color:u,disabled:h,error:m,filled:T,focused:F,fullWidth:y,hiddenLabel:b,size:k,onBlur:()=>{N(!1)},onEmpty:i.useCallback((()=>{Z(!1)}),[]),onFilled:$,onFocus:()=>{N(!0)},registerEffect:undefined,required:x,variant:C};return(0,S.jsx)(f.Provider,{value:P,children:(0,S.jsx)(Mt,(0,r.Z)({as:d,ownerState:O,className:(0,s.Z)(R.root,c),ref:e},M,{children:l}))})}));function Rt(t){return(0,z.Z)("MuiFormHelperText",t)}var It=(0,T.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);const Et=["children","className","component","disabled","error","filled","focused","margin","required","variant"],zt=(0,l.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${(0,g.Z)(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})((({theme:t,ownerState:e})=>(0,r.Z)({color:t.palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${It.disabled}`]:{color:t.palette.text.disabled},[`&.${It.error}`]:{color:t.palette.error.main}},"small"===e.size&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})));var Tt=i.forwardRef((function(t,e){const n=(0,p.Z)({props:t,name:"MuiFormHelperText"}),{children:i,className:l,component:c="p"}=n,u=(0,o.Z)(n,Et),d=h({props:n,muiFormControl:m(),states:["variant","size","disabled","error","filled","focused","required"]}),f=(0,r.Z)({},n,{component:c,contained:"filled"===d.variant||"outlined"===d.variant,variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),v=(t=>{const{classes:e,contained:n,size:r,disabled:o,error:i,filled:s,focused:l,required:p}=t,c={root:["root",o&&"disabled",i&&"error",r&&`size${(0,g.Z)(r)}`,n&&"contained",l&&"focused",s&&"filled",p&&"required"]};return(0,a.Z)(c,Rt,e)})(f);return(0,S.jsx)(zt,(0,r.Z)({as:c,ownerState:f,className:(0,s.Z)(v.root,l),ref:e},u,{children:" "===i?(0,S.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):i}))})),Zt=(n(9864),n(8038)),At=n(1871);function Nt(t){return(0,z.Z)("MuiNativeSelect",t)}var Ft=(0,T.Z)("MuiNativeSelect",["root","select","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]);const $t=["className","disabled","IconComponent","inputRef","variant"],Pt=({ownerState:t,theme:e})=>(0,r.Z)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},[`&.${Ft.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:e.shape.borderRadius,"&:focus":{borderRadius:e.shape.borderRadius},"&&&":{paddingRight:32}}),Bt=(0,l.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:l.FO,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant]]}})(Pt),jt=({ownerState:t,theme:e})=>(0,r.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:e.palette.action.active,[`&.${Ft.disabled}`]:{color:e.palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7}),Wt=(0,l.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${(0,g.Z)(n.variant)}`],n.open&&e.iconOpen]}})(jt);var Dt=i.forwardRef((function(t,e){const{className:n,disabled:l,IconComponent:p,inputRef:c,variant:u="standard"}=t,d=(0,o.Z)(t,$t),h=(0,r.Z)({},t,{disabled:l,variant:u}),f=(t=>{const{classes:e,variant:n,disabled:r,open:o}=t,i={select:["select",n,r&&"disabled"],icon:["icon",`icon${(0,g.Z)(n)}`,o&&"iconOpen",r&&"disabled"]};return(0,a.Z)(i,Nt,e)})(h);return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(Bt,(0,r.Z)({ownerState:h,className:(0,s.Z)(f.select,n),disabled:l,ref:c||e},d)),t.multiple?null:(0,S.jsx)(Wt,{as:p,ownerState:h,className:f.icon})]})})),Lt=n(2893);function Jt(t){return(0,z.Z)("MuiSelect",t)}var _t=(0,T.Z)("MuiSelect",["root","select","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]);const qt=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Vt=(0,l.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${_t.select}`]:e.select},{[`&.${_t.select}`]:e[n.variant]}]}})(Pt,{[`&.${_t.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Ht=(0,l.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${(0,g.Z)(n.variant)}`],n.open&&e.iconOpen]}})(jt),Kt=(0,l.ZP)("input",{shouldForwardProp:t=>(0,l.Dz)(t)&&"classes"!==t,name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Ut(t,e){return"object"===typeof e&&null!==e?t===e:String(t)===String(e)}function Gt(t){return null==t||"string"===typeof t&&!t.trim()}var Xt,Qt,Yt=i.forwardRef((function(t,e){const{"aria-describedby":n,"aria-label":l,autoFocus:p,autoWidth:c,children:d,className:h,defaultValue:f,disabled:m,displayEmpty:v,IconComponent:b,inputRef:w,labelId:x,MenuProps:k={},multiple:C,name:M,onBlur:O,onChange:R,onClose:I,onFocus:z,onOpen:T,open:Z,readOnly:A,renderValue:N,SelectDisplayProps:F={},tabIndex:$,value:P,variant:B="standard"}=t,j=(0,o.Z)(t,qt),[W,D]=(0,Lt.Z)({controlled:P,default:f,name:"Select"}),L=i.useRef(null),J=i.useRef(null),[_,q]=i.useState(null),{current:V}=i.useRef(null!=Z),[H,K]=i.useState(),[U,G]=i.useState(!1),X=(0,y.Z)(e,w),Q=i.useCallback((t=>{J.current=t,t&&q(t)}),[]);i.useImperativeHandle(X,(()=>({focus:()=>{J.current.focus()},node:L.current,value:W})),[W]),i.useEffect((()=>{p&&J.current.focus()}),[p]),i.useEffect((()=>{const t=(0,Zt.Z)(J.current).getElementById(x);if(t){const e=()=>{getSelection().isCollapsed&&J.current.focus()};return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}}),[x]);const Y=(t,e)=>{t?T&&T(e):I&&I(e),V||(K(c?null:_.clientWidth),G(t))},tt=i.Children.toArray(d),et=t=>e=>{let n;if(e.currentTarget.hasAttribute("tabindex")){if(C){n=Array.isArray(W)?W.slice():[];const e=W.indexOf(t.props.value);-1===e?n.push(t.props.value):n.splice(e,1)}else n=t.props.value;if(t.props.onClick&&t.props.onClick(e),W!==n&&(D(n),R)){const r=e.nativeEvent||e,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:M}}),R(o,t)}C||Y(!1,e)}},nt=null!==_&&(V?Z:U);let rt,ot;delete j["aria-invalid"];const it=[];let st=!1,at=!1;(E({value:W})||v)&&(N?rt=N(W):st=!0);const lt=tt.map((t=>{if(!i.isValidElement(t))return null;let e;if(C){if(!Array.isArray(W))throw new Error((0,u.Z)(2));e=W.some((e=>Ut(e,t.props.value))),e&&st&&it.push(t.props.children)}else e=Ut(W,t.props.value),e&&st&&(ot=t.props.children);return e&&(at=!0),i.cloneElement(t,{"aria-selected":e?"true":void 0,onClick:et(t),onKeyUp:e=>{" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:e,value:void 0,"data-value":t.props.value})}));st&&(rt=C?it.join(", "):ot);let pt,ct=H;!c&&V&&_&&(ct=_.clientWidth),pt="undefined"!==typeof $?$:m?null:0;const ut=F.id||(M?`mui-component-select-${M}`:void 0),dt=(0,r.Z)({},t,{variant:B,value:W,open:nt}),ht=(t=>{const{classes:e,variant:n,disabled:r,open:o}=t,i={select:["select",n,r&&"disabled"],icon:["icon",`icon${(0,g.Z)(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,a.Z)(i,Jt,e)})(dt);return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(Vt,(0,r.Z)({ref:Q,tabIndex:pt,role:"button","aria-disabled":m?"true":void 0,"aria-expanded":nt?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[x,ut].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:t=>{if(!A){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(t.key)&&(t.preventDefault(),Y(!0,t))}},onMouseDown:m||A?null:t=>{0===t.button&&(t.preventDefault(),J.current.focus(),Y(!0,t))},onBlur:t=>{!nt&&O&&(Object.defineProperty(t,"target",{writable:!0,value:{value:W,name:M}}),O(t))},onFocus:z},F,{ownerState:dt,className:(0,s.Z)(ht.select,h,F.className),id:ut,children:Gt(rt)?(0,S.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):rt})),(0,S.jsx)(Kt,(0,r.Z)({value:Array.isArray(W)?W.join(","):W,name:M,ref:L,"aria-hidden":!0,onChange:t=>{const e=tt.map((t=>t.props.value)).indexOf(t.target.value);if(-1===e)return;const n=tt[e];D(n.props.value),R&&R(t,n)},tabIndex:-1,disabled:m,className:ht.nativeInput,autoFocus:p,ownerState:dt},j)),(0,S.jsx)(Ht,{as:b,className:ht.icon,ownerState:dt}),(0,S.jsx)(At.Z,(0,r.Z)({id:`menu-${M||""}`,anchorEl:_,open:nt,onClose:t=>{Y(!1,t)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},k,{MenuListProps:(0,r.Z)({"aria-labelledby":x,role:"listbox",disableListWrap:!0},k.MenuListProps),PaperProps:(0,r.Z)({},k.PaperProps,{style:(0,r.Z)({minWidth:ct},null!=k.PaperProps?k.PaperProps.style:null)}),children:lt}))]})})),te=(0,n(5949).Z)((0,S.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");const ee=["autoWidth","children","classes","className","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],ne=["root"],re=i.forwardRef((function(t,e){const n=(0,p.Z)({name:"MuiSelect",props:t}),{autoWidth:l=!1,children:u,classes:d={},className:f,displayEmpty:v=!1,IconComponent:g=te,id:b,input:w,inputProps:x,label:k,labelId:C,MenuProps:M,multiple:O=!1,native:R=!1,onClose:I,onOpen:E,open:z,renderValue:T,SelectDisplayProps:Z,variant:A="outlined"}=n,N=(0,o.Z)(n,ee),F=R?Dt:Yt,$=h({props:n,muiFormControl:m(),states:["variant"]}).variant||A,P=w||{standard:Xt||(Xt=(0,S.jsx)(H,{})),outlined:(0,S.jsx)(ut,{label:k}),filled:Qt||(Qt=(0,S.jsx)(tt,{}))}[$],B=(t=>{const{classes:e}=t;return(0,a.Z)({root:["root"]},Jt,e)})((0,r.Z)({},n,{classes:d})),j=(0,o.Z)(d,ne),W=(0,y.Z)(e,P.ref);return i.cloneElement(P,(0,r.Z)({inputComponent:F,inputProps:(0,r.Z)({children:u,IconComponent:g,variant:$,type:void 0,multiple:O},R?{id:b}:{autoWidth:l,displayEmpty:v,labelId:C,MenuProps:M,onClose:I,onOpen:E,open:z,renderValue:T,SelectDisplayProps:(0,r.Z)({id:b},Z)},x,{classes:x?(0,c.Z)(j,x.classes):j},w?w.props.inputProps:{})},O&&R&&"outlined"===$?{notched:!0}:{},{ref:W,className:(0,s.Z)(B.root,P.props.className,f)},N))}));re.muiName="Select";var oe=re;function ie(t){return(0,z.Z)("MuiTextField",t)}(0,T.Z)("MuiTextField",["root"]);const se=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],ae={standard:H,filled:tt,outlined:ut},le=(0,l.ZP)(Ot,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({});var pe=i.forwardRef((function(t,e){const n=(0,p.Z)({props:t,name:"MuiTextField"}),{autoComplete:l,autoFocus:c=!1,children:u,className:d,color:h="primary",defaultValue:f,disabled:m=!1,error:v=!1,FormHelperTextProps:g,fullWidth:y=!1,helperText:b,id:w,InputLabelProps:x,inputProps:k,InputProps:C,inputRef:M,label:O,maxRows:R,minRows:I,multiline:E=!1,name:z,onBlur:T,onChange:Z,onFocus:A,placeholder:N,required:F=!1,rows:$,select:P=!1,SelectProps:B,type:j,value:W,variant:D="outlined"}=n,L=(0,o.Z)(n,se),J=(0,r.Z)({},n,{autoFocus:c,color:h,disabled:m,error:v,fullWidth:y,multiline:E,required:F,select:P,variant:D}),_=(t=>{const{classes:e}=t;return(0,a.Z)({root:["root"]},ie,e)})(J);const q={};if("outlined"===D&&(x&&"undefined"!==typeof x.shrink&&(q.notched=x.shrink),O)){var V;const t=null!=(V=null==x?void 0:x.required)?V:F;q.label=(0,S.jsxs)(i.Fragment,{children:[O,t&&"\xa0*"]})}P&&(B&&B.native||(q.id=void 0),q["aria-describedby"]=void 0);const H=b&&w?`${w}-helper-text`:void 0,K=O&&w?`${w}-label`:void 0,U=ae[D],G=(0,S.jsx)(U,(0,r.Z)({"aria-describedby":H,autoComplete:l,autoFocus:c,defaultValue:f,fullWidth:y,multiline:E,name:z,rows:$,maxRows:R,minRows:I,type:j,value:W,id:w,inputRef:M,onBlur:T,onChange:Z,onFocus:A,placeholder:N,inputProps:k},q,C));return(0,S.jsxs)(le,(0,r.Z)({className:(0,s.Z)(_.root,d),disabled:m,error:v,fullWidth:y,ref:e,required:F,color:h,variant:D,ownerState:J},L,{children:[O&&(0,S.jsx)(xt,(0,r.Z)({htmlFor:w,id:K},x,{children:O})),P?(0,S.jsx)(oe,(0,r.Z)({"aria-describedby":H,id:w,labelId:K,value:W,input:G},B,{children:u})):G,b&&(0,S.jsx)(Tt,(0,r.Z)({id:H},g,{children:b}))]}))}))},1350:function(t,e,n){"use strict";n.d(e,{M:function(){return c}});var r=n(7294),o=n(471),i=n(87),s=n.n(i),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootEl=r.createRef(),e}return l(e,t),e.prototype.getRootElement=function(){return this.rootEl.current},e.prototype.getInstance=function(){return this.editorInst},e.prototype.bindEventHandlers=function(t){var e=this;Object.keys(this.props).filter((function(t){return/^on[A-Z][a-zA-Z]+/.test(t)})).forEach((function(n){var r=n[2].toLowerCase()+n.slice(3);e.editorInst.off(r),e.editorInst.on(r,t[n])}))},e.prototype.componentDidMount=function(){this.editorInst=new o.ZP(p({el:this.rootEl.current},this.props)),this.bindEventHandlers(this.props)},e.prototype.shouldComponentUpdate=function(t){var e=this.getInstance(),n=t.height,r=t.previewStyle;return n&&this.props.height!==n&&e.setHeight(n),r&&this.props.previewStyle!==r&&e.changePreviewStyle(r),this.bindEventHandlers(t),!1},e.prototype.render=function(){return r.createElement("div",{ref:this.rootEl})},e}(r.Component);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootEl=r.createRef(),e}l(e,t),e.prototype.getRootElement=function(){return this.rootEl.current},e.prototype.getInstance=function(){return this.viewerInst},e.prototype.bindEventHandlers=function(t){var e=this;Object.keys(this.props).filter((function(t){return/^on[A-Z][a-zA-Z]+/.test(t)})).forEach((function(n){var r=n[2].toLowerCase()+n.slice(3);e.viewerInst.off(r),e.viewerInst.on(r,t[n])}))},e.prototype.componentDidMount=function(){this.viewerInst=new(s())(p({el:this.rootEl.current},this.props)),this.bindEventHandlers(this.props)},e.prototype.shouldComponentUpdate=function(t){return this.bindEventHandlers(t),!1},e.prototype.render=function(){return r.createElement("div",{ref:this.rootEl})}}(r.Component)},4599:function(){},2778:function(t,e,n){"use strict";n.d(e,{YR:function(){return O},QF:function(){return w},NE:function(){return s},uo:function(){return h},Y_:function(){return p},QK:function(){return u},td:function(){return m},uJ:function(){return y},w9:function(){return b},ym:function(){return g}});var r=n(1081),o=n(8638),i=n(6922);function s(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function a(t,e,n){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(n&&1!=t.childCount)return!1}return!1}function l(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function p(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=c(r);if(!o)return!1;var s=o.nodeAfter;if(v(t,o,e))return!0;if(0==r.parent.content.size&&(a(s,"start")||i.NodeSelection.isSelectable(s))){if(e){var l=t.tr.deleteRange(r.before(),r.after());l.setSelection(a(s,"start")?i.Selection.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):i.NodeSelection.create(l.doc,l.mapping.map(o.pos))),e(l.scrollIntoView())}return!0}return!(!s.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0)}function c(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function u(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function d(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function h(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var s=r.node(-1),a=r.indexAfter(-1),l=d(s.contentMatchAt(a));if(!s.canReplaceWith(a,a,l))return!1;if(e){var p=r.after(),c=t.tr.replaceWith(p,p,l.createAndFill());c.setSelection(i.Selection.near(c.doc.resolve(p),1)),e(c.scrollIntoView())}return!0}function f(t,e){var n=t.selection,o=n.$from,s=n.$to;if(t.selection instanceof i.NodeSelection&&t.selection.node.isBlock)return!(!o.parentOffset||!(0,r.Ax)(t.doc,o.pos))&&(e&&e(t.tr.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;if(e){var a=s.parentOffset==s.parent.content.size,l=t.tr;(t.selection instanceof i.TextSelection||t.selection instanceof i.AllSelection)&&l.deleteSelection();var p=0==o.depth?null:d(o.node(-1).contentMatchAt(o.indexAfter(-1))),c=a&&p?[{type:p}]:null,u=(0,r.Ax)(l.doc,l.mapping.map(o.pos),1,c);if(c||u||!(0,r.Ax)(l.doc,l.mapping.map(o.pos),1,p&&[{type:p}])||(c=[{type:p}],u=!0),u&&(l.split(l.mapping.map(o.pos),1,c),!a&&!o.parentOffset&&o.parent.type!=p)){var h=l.mapping.map(o.before()),f=l.doc.resolve(h);o.node(-1).canReplaceWith(f.index(),f.index()+1,p)&&l.setNodeMarkup(l.mapping.map(o.before()),p)}e(l.scrollIntoView())}return!0}function m(t,e){return e&&e(t.tr.setSelection(new i.AllSelection(t.doc))),!0}function v(t,e,n){var s,l,p=e.nodeBefore,c=e.nodeAfter;if(p.type.spec.isolating||c.type.spec.isolating)return!1;if(function(t,e,n){var o=e.nodeBefore,i=e.nodeAfter,s=e.index();return!!(o&&i&&o.type.compatibleContent(i.type))&&(!o.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(s,s+1)||!i.isTextblock&&!(0,r.Mn)(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,o.type,o.contentMatchAt(o.childCount)).join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;var u=e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(l=p.contentMatchAt(p.childCount)).findWrapping(c.type))&&l.matchType(s[0]||c.type).validEnd){if(n){for(var d=e.pos+c.nodeSize,h=o.Fragment.empty,f=s.length-1;f>=0;f--)h=o.Fragment.from(s[f].create(null,h));h=o.Fragment.from(p.copy(h));var m=t.tr.step(new r.FC(e.pos-1,d,e.pos,d,new o.Slice(h,1,0),s.length,!0)),v=d+2*s.length;(0,r.Mn)(m.doc,v)&&m.join(v),n(m.scrollIntoView())}return!0}var g=i.Selection.findFrom(e,1),y=g&&g.$from.blockRange(g.$to),b=y&&(0,r.k9)(y);if(null!=b&&b>=e.depth)return n&&n(t.tr.lift(y,b).scrollIntoView()),!0;if(u&&a(c,"start",!0)&&a(p,"end")){for(var w=p,x=[];x.push(w),!w.isTextblock;)w=w.lastChild;for(var S=c,k=1;!S.isTextblock;S=S.firstChild)k++;if(w.canReplace(w.childCount,w.childCount,S.content)){if(n){for(var C=o.Fragment.empty,M=x.length-1;M>=0;M--)C=o.Fragment.from(x[M].copy(C));n(t.tr.step(new r.FC(e.pos-x.length,e.pos+c.nodeSize,e.pos+k,e.pos+c.nodeSize-k,new o.Slice(C,x.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function g(t,e){return function(n,o){var i=n.selection,s=i.$from,a=i.$to,l=s.blockRange(a),p=l&&(0,r.nd)(l,t,e);return!!p&&(o&&o(n.tr.wrap(l,p).scrollIntoView()),!0)}}function y(t,e){return function(n,r){var o=n.selection,i=o.from,s=o.to,a=!1;return n.doc.nodesBetween(i,s,(function(r,o){if(a)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)a=!0;else{var i=n.doc.resolve(o),s=i.index();a=i.parent.canReplaceWith(s,s+1,t)}})),!!a&&(r&&r(n.tr.setBlockType(i,s,t,e).scrollIntoView()),!0)}}function b(t,e){return function(n,r){var o=n.selection,i=o.empty,s=o.$cursor,a=o.ranges;if(i&&!s||!function(t,e,n){for(var r=function(r){var o=e[r],i=o.$from,s=o.$to,a=0==i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,s.pos,(function(t){if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return{v:!0}},o=0;o<e.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,a,t))return!1;if(r)if(s)t.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{for(var l=!1,p=n.tr,c=0;!l&&c<a.length;c++){var u=a[c],d=u.$from,h=u.$to;l=n.doc.rangeHasMark(d.pos,h.pos,t)}for(var f=0;f<a.length;f++){var m=a[f],v=m.$from,g=m.$to;if(l)p.removeMark(v.pos,g.pos,t);else{var y=v.pos,b=g.pos,w=v.nodeAfter,x=g.nodeBefore,S=w&&w.isText?/^\s*/.exec(w.text)[0].length:0,k=x&&x.isText?/\s*$/.exec(x.text)[0].length:0;y+S<b&&(y+=S,b-=k),p.addMark(y,b,t.create(e))}}r(p.scrollIntoView())}return!0}}function w(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}var x=w(s,(function(t,e,n){var o=t.selection.$cursor;if(!o||(n?!n.endOfTextblock("backward",t):o.parentOffset>0))return!1;var s=l(o);if(!s){var p=o.blockRange(),c=p&&(0,r.k9)(p);return null!=c&&(e&&e(t.tr.lift(p,c).scrollIntoView()),!0)}var u=s.nodeBefore;if(!u.type.spec.isolating&&v(t,s,e))return!0;if(0==o.parent.content.size&&(a(u,"end")||i.NodeSelection.isSelectable(u))){if(e){var d=t.tr.deleteRange(o.before(),o.after());d.setSelection(a(u,"end")?i.Selection.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):i.NodeSelection.create(d.doc,s.pos-u.nodeSize)),e(d.scrollIntoView())}return!0}return!(!u.isAtom||s.depth!=o.depth-1)&&(e&&e(t.tr.delete(s.pos-u.nodeSize,s.pos).scrollIntoView()),!0)}),(function(t,e,n){var r=t.selection,o=r.$head,s=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;s=l(o)}var a=s&&s.nodeBefore;return!(!a||!i.NodeSelection.isSelectable(a))&&(e&&e(t.tr.setSelection(i.NodeSelection.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)})),S=w(s,p,(function(t,e,n){var r=t.selection,o=r.$head,s=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;s=c(o)}var a=s&&s.nodeAfter;return!(!a||!i.NodeSelection.isSelectable(a))&&(e&&e(t.tr.setSelection(i.NodeSelection.create(t.doc,s.pos)).scrollIntoView()),!0)})),k={Enter:w(u,(function(t,e){var n=t.selection,r=n.$from,o=n.$to;if(n instanceof i.AllSelection||r.parent.inlineContent||o.parent.inlineContent)return!1;var s=d(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){var a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection(i.TextSelection.create(l.doc,a+1)),e(l.scrollIntoView())}return!0}),(function(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var o=n.before();if((0,r.Ax)(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}var i=n.blockRange(),s=i&&(0,r.k9)(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}),f),"Mod-Enter":h,Backspace:x,"Mod-Backspace":x,Delete:S,"Mod-Delete":S,"Mod-a":m},C={"Ctrl-h":k.Backspace,"Alt-Backspace":k["Mod-Backspace"],"Ctrl-d":k.Delete,"Ctrl-Alt-Backspace":k["Mod-Delete"],"Alt-Delete":k["Mod-Delete"],"Alt-d":k["Mod-Delete"]};for(var M in k)C[M]=k[M];var O=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?C:k},6189:function(t,e,n){"use strict";n.d(e,{m8:function(){return S},KX:function(){return C},Yw:function(){return k},of:function(){return M}});var r=200,o=function(){};o.prototype.append=function(t){return t.length?(t=o.from(t),!this.length&&t||t.length<r&&this.leafAppend(t)||this.length<r&&t.leafPrepend(this)||this.appendInner(t)):this},o.prototype.prepend=function(t){return t.length?o.from(t).append(this):this},o.prototype.appendInner=function(t){return new s(this,t)},o.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?o.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},o.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},o.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},o.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},o.from=function(t){return t instanceof o?t:t&&t.length?new i(t):o.empty};var i=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=r)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=r)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(o);o.empty=new i([]);var s=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(o),a=o,l=n(1081),p=n(6922),c=function(t,e){this.items=t,this.eventCount=e};c.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,a,l=t.tr,p=[],d=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(i,e+1),o=r.maps.length),o--,void d.push(t);if(r){d.push(new u(t.map));var h,f=t.step.map(r.slice(o));f&&l.maybeStep(f).doc&&(h=l.mapping.maps[l.mapping.maps.length-1],p.push(new u(h,null,null,p.length+d.length))),o--,h&&r.appendMap(h,o)}else l.maybeStep(t.step);return t.selection?(s=r?t.selection.map(r.slice(o)):t.selection,a=new c(n.items.slice(0,i).append(d.reverse().concat(p)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:l,selection:s}},c.prototype.addTransform=function(t,e,n,r){for(var o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,l=0;l<t.steps.length;l++){var p,d=t.steps[l].invert(t.docs[l]),f=new u(t.mapping.maps[l],d,e);(p=a&&a.merge(f))&&(f=p,l?o.pop():s=s.slice(0,s.length-1)),o.push(f),e&&(i++,e=null),r||(a=f)}var m=i-n.depth;return m>h&&(s=function(t,e){var n;return t.forEach((function(t,r){if(t.selection&&0==e--)return n=r,!1})),t.slice(n)}(s,m),i-=m),new c(s.append(o),i)},c.prototype.remapping=function(t,e){var n=new l.vs;return this.items.forEach((function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)}),t,e),n},c.prototype.addMaps=function(t){return 0==this.eventCount?this:new c(this.items.append(t.map((function(t){return new u(t)}))),this.eventCount)},c.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),r);var a=e;this.items.forEach((function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var l=o.maps[r];if(e.step){var p=t.steps[r].invert(t.docs[r]),c=e.selection&&e.selection.map(o.slice(a+1,r));c&&s++,n.push(new u(l,p,c))}else n.push(new u(l))}}),r);for(var l=[],p=e;p<i;p++)l.push(new u(o.maps[p]));var d=this.items.slice(0,r).append(l).append(n),h=new c(d,s);return h.emptyItemCount()>500&&(h=h.compress(this.items.length-n.length)),h},c.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},c.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),l=a&&a.getMap();if(n--,l&&e.appendMap(l,n),a){var p=i.selection&&i.selection.map(e.slice(n));p&&o++;var c,d=new u(l.invert(),a,p),h=r.length-1;(c=r.length&&r[h].merge(d))?r[h]=c:r.push(d)}}else i.map&&n--}),this.items.length,0),new c(a.from(r.reverse()),o)},c.empty=new c(a.empty,0);var u=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};u.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new u(e.getMap().invert(),e,this.selection)}};var d=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},h=20;function f(t){var e=[];return t.forEach((function(t,n,r,o){return e.push(r,o)})),e}function m(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function v(t,e,n,r){var o=b(e),i=w.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),p=new d(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(w,{redo:r,historyState:p}).scrollIntoView())}}var g=!1,y=null;function b(t){var e=t.plugins;if(y!=e){g=!1,y=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){g=!0;break}}return g}var w=new p.PluginKey("history"),x=new p.PluginKey("closeHistory");function S(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new p.Plugin({key:w,state:{init:function(){return new d(c.empty,c.empty,null,0)},apply:function(e,n,r){return function(t,e,n,r){var o,i=n.getMeta(w);if(i)return i.historyState;n.getMeta(x)&&(t=new d(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(w))return s.getMeta(w).redo?new d(t.done.addTransform(n,null,r,b(e)),t.undone,f(n.mapping.maps[n.steps.length-1]),t.prevTime):new d(t.done,t.undone.addTransform(n,null,r,b(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new d(t.done.rebased(n,o),t.undone.rebased(n,o),m(t.prevRanges,n.mapping),t.prevTime):new d(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),m(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)})),n}(n,t.prevRanges)),l=s?m(t.prevRanges,n.mapping):f(n.mapping.maps[n.steps.length-1]);return new d(t.done.addTransform(n,a?e.selection.getBookmark():null,r,b(e)),c.empty,l,n.time)}(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput:function(t,e){var n="historyUndo"==e.inputType?k(t.state,t.dispatch):"historyRedo"==e.inputType&&C(t.state,t.dispatch);return n&&e.preventDefault(),n}}}})}function k(t,e){var n=w.getState(t);return!(!n||0==n.done.eventCount)&&(e&&v(n,t,e,!1),!0)}function C(t,e){var n=w.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&v(n,t,e,!0),!0)}function M(t){var e=w.getState(t);return e?e.done.eventCount:0}},896:function(t,e,n){"use strict";n.d(e,{VK:function(){return o},Hw:function(){return i}});var r=n(6922),o=(n(1081),function(t,e){var n;this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,o){var i=n;if(e[1]){var s=e[0].lastIndexOf(e[1]);i+=e[0].slice(s+e[1].length);var a=(r+=s)-o;a>0&&(i=e[0].slice(s-a,s)+i,r=o)}return t.tr.insertText(i,r,o)}):e});function i(t){var e=t.rules,n=new r.Plugin({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,r,o,i){return s(t,r,o,i,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var r=t.state.selection.$cursor;r&&s(t,r.pos,r.pos,"",e,n)}))}}},isInputRules:!0});return n}function s(t,e,n,r,o,i){if(t.composing)return!1;var s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;for(var l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"\ufffc")+r,p=0;p<o.length;p++){var c=o[p].match.exec(l),u=c&&o[p].handler(s,c,e-(c[0].length-r.length),n);if(u)return t.dispatch(u.setMeta(i,{transform:u,from:e,to:n,text:r})),!0}return!1}new o(/--$/,"\u2014"),new o(/\.\.\.$/,"\u2026"),new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new o(/"$/,"\u201d"),new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new o(/'$/,"\u2019")},6464:function(t,e,n){"use strict";n.d(e,{h:function(){return g}});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),p="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),c=i&&(l||+i[1]<57)||a&&l,u=0;u<10;u++)r[48+u]=r[96+u]=String(u);for(u=1;u<=24;u++)r[u+111]="F"+u;for(u=65;u<=90;u++)r[u]=String.fromCharCode(u+32),o[u]=String.fromCharCode(u);for(var d in r)o.hasOwnProperty(d)||(o[d]=r[d]);var h=n(6922),f="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function m(t){var e,n,r,o,i=t.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var a=0;a<i.length-1;a++){var l=i[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);f?o=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function v(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function g(t){return new h.Plugin({props:{handleKeyDown:y(t)}})}function y(t){var e=function(t){var e=Object.create(null);for(var n in t)e[m(n)]=t[n];return e}(t);return function(t,n){var i,a=function(t){var e=!(c&&(t.ctrlKey||t.altKey||t.metaKey)||(s||p)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?o:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),l=1==a.length&&" "!=a,u=e[v(a,n,!l)];if(u&&u(t.state,t.dispatch,t))return!0;if(l&&(n.shiftKey||n.altKey||n.metaKey||a.charCodeAt(0)>127)&&(i=r[n.keyCode])&&i!=a){var d=e[v(i,n,!0)];if(d&&d(t.state,t.dispatch,t))return!0}else if(l&&n.shiftKey){var h=e[v(a,n,!0)];if(h&&h(t.state,t.dispatch,t))return!0}return!1}}},8638:function(t,e,n){"use strict";function r(t){this.content=t}n.r(e),n.d(e,{ContentMatch:function(){return j},DOMParser:function(){return st},DOMSerializer:function(){return gt},Fragment:function(){return a},Mark:function(){return d},MarkType:function(){return rt},Node:function(){return F},NodeRange:function(){return Z},NodeType:function(){return Y},ReplaceError:function(){return h},ResolvedPos:function(){return R},Schema:function(){return ot},Slice:function(){return f}}),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,i=o.find(t),s=o.content.slice();return-1==i?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new r(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var o=this.remove(e),i=o.content.slice(),s=o.find(t);return i.splice(-1==s?i.length:s,0,e,n),new r(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=r.from(t)).size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=r.from(t)).size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};var o=r;function i(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var o=t.child(r),s=e.child(r);if(o!=s){if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(var a=0;o.text[a]==s.text[a];a++)n++;return n}if(o.content.size||s.content.size){var l=i(o.content,s.content,n+1);if(null!=l)return l}n+=o.nodeSize}else n+=o.nodeSize}}function s(t,e,n,r){for(var o=t.childCount,i=e.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};var a=t.child(--o),l=e.child(--i),p=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){for(var c=0,u=Math.min(a.text.length,l.text.length);c<u&&a.text[a.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){var d=s(a.content,l.content,n-1,r-1);if(d)return d}n-=p,r-=p}else n-=p,r-=p}}var a=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},l={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};a.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],l=s+a.nodeSize;if(l>t&&!1!==n(a,r+s,o,i)&&a.content.size){var p=s+1;a.nodesBetween(Math.max(0,t-p),Math.min(a.content.size,e-p),n,r+p)}s=l}},a.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},a.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+=r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o},a.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new a(r,this.size+t.size)},a.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,i=0;i<e;o++){var s=this.content[o],l=i+s.nodeSize;l>t&&((i<t||l>e)&&(s=s.isText?s.cut(Math.max(0,t-i),Math.min(s.text.length,e-i)):s.cut(Math.max(0,t-i-1),Math.min(s.content.size,e-i-1))),n.push(s),r+=s.nodeSize),i=l}return new a(n,r)},a.prototype.cutByIndex=function(t,e){return t==e?a.empty:0==t&&e==this.content.length?this:new a(this.content.slice(t,e))},a.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new a(r,o)},a.prototype.addToStart=function(t){return new a([t].concat(this.content),this.size+t.nodeSize)},a.prototype.addToEnd=function(t){return new a(this.content.concat(t),this.size+t.nodeSize)},a.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},l.firstChild.get=function(){return this.content.length?this.content[0]:null},l.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},l.childCount.get=function(){return this.content.length},a.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},a.prototype.maybeChild=function(t){return this.content[t]},a.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},a.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),i(this,t,e)},a.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),s(this,t,e,n)},a.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return c(0,t);if(t==this.size)return c(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?c(n+1,o):c(n,r);r=o}},a.prototype.toString=function(){return"<"+this.toStringInner()+">"},a.prototype.toStringInner=function(){return this.content.join(", ")},a.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},a.fromJSON=function(t,e){if(!e)return a.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(e.map(t.nodeFromJSON))},a.fromArray=function(t){if(!t.length)return a.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new a(e||t,n)},a.from=function(t){if(!t)return a.empty;if(t instanceof a)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new a([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(a.prototype,l);var p={index:0,offset:0};function c(t,e){return p.index=t,p.offset=e,p}function u(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!u(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!u(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}a.empty=new a([],0);var d=function(t,e){this.type=t,this.attrs=e};function h(t){var e=Error.call(this,t);return e.__proto__=h.prototype,e}d.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},d.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},d.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},d.prototype.eq=function(t){return this==t||this.type==t.type&&u(this.attrs,t.attrs)},d.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},d.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},d.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},d.setFrom=function(t){if(!t||0==t.length)return d.none;if(t instanceof d)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},d.none=[],h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="ReplaceError";var f=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},m={size:{configurable:!0}};function v(t,e,n){var r=t.findIndex(e),o=r.index,i=r.offset,s=t.maybeChild(o),a=t.findIndex(n),l=a.index,p=a.offset;if(i==e||s.isText){if(p!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(v(s.content,e-i-1,n-i-1)))}function g(t,e,n,r){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));var l=g(a.content,e-s-1,n);return l&&t.replaceChild(i,a.copy(l))}function y(t,e,n){if(n.openStart>t.depth)throw new h("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new h("Inconsistent open depths");return b(t,e,n,0)}function b(t,e,n,r){var o=t.index(r),i=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){var s=b(t,e,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var l=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(a.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return C(i,M(t,l.start,l.end,e,r))}var p=t.parent,c=p.content;return C(p,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}return C(i,O(t,e,r))}function w(t,e){if(!e.type.compatibleContent(t.type))throw new h("Cannot join "+e.type.name+" onto "+t.type.name)}function x(t,e,n){var r=t.node(n);return w(r,e.node(n)),r}function S(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function k(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(S(t.nodeAfter,r),i++));for(var a=i;a<s;a++)S(o.child(a),r);e&&e.depth==n&&e.textOffset&&S(e.nodeBefore,r)}function C(t,e){if(!t.type.validContent(e))throw new h("Invalid content for node "+t.type.name);return t.copy(e)}function M(t,e,n,r,o){var i=t.depth>o&&x(t,e,o+1),s=r.depth>o&&x(n,r,o+1),l=[];return k(null,t,o,l),i&&s&&e.index(o)==n.index(o)?(w(i,s),S(C(i,M(t,e,n,r,o+1)),l)):(i&&S(C(i,O(t,e,o+1)),l),k(e,n,o,l),s&&S(C(s,O(n,r,o+1)),l)),k(r,null,o,l),new a(l)}function O(t,e,n){var r=[];(k(null,t,n,r),t.depth>n)&&S(C(x(t,e,n+1),O(t,e,n+1)),r);return k(e,null,n,r),new a(r)}m.size.get=function(){return this.content.size-this.openStart-this.openEnd},f.prototype.insertAt=function(t,e){var n=g(this.content,t+this.openStart,e,null);return n&&new f(n,this.openStart,this.openEnd)},f.prototype.removeBetween=function(t,e){return new f(v(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},f.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},f.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},f.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},f.fromJSON=function(t,e){if(!e)return f.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(a.fromJSON(t,e.content),n,r)},f.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new f(t,n,r)},Object.defineProperties(f.prototype,m),f.empty=new f(a.empty,0,0);var R=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},I={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};R.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},I.parent.get=function(){return this.node(this.depth)},I.doc.get=function(){return this.node(0)},R.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},R.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},R.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},R.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},R.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},R.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},R.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},I.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},I.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},I.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},R.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},R.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return d.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i},R.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},R.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},R.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new Z(this,t,n)},R.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},R.prototype.max=function(t){return t.pos>this.pos?t:this},R.prototype.min=function(t){return t.pos<this.pos?t:this},R.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},R.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,l=s.offset,p=o-l;if(n.push(i,a,r+l),!p)break;if((i=i.child(a)).isText)break;o=p-1,r+=l+1}return new R(e,n,o)},R.resolveCached=function(t,e){for(var n=0;n<E.length;n++){var r=E[n];if(r.pos==e&&r.doc==t)return r}var o=E[z]=R.resolve(t,e);return z=(z+1)%T,o},Object.defineProperties(R.prototype,I);var E=[],z=0,T=12,Z=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},A={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};A.start.get=function(){return this.$from.before(this.depth+1)},A.end.get=function(){return this.$to.after(this.depth+1)},A.parent.get=function(){return this.$from.node(this.depth)},A.startIndex.get=function(){return this.$from.index(this.depth)},A.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(Z.prototype,A);var N=Object.create(null),F=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||a.empty,this.marks=r||d.none},$={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};$.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},$.childCount.get=function(){return this.content.childCount},F.prototype.child=function(t){return this.content.child(t)},F.prototype.maybeChild=function(t){return this.content.maybeChild(t)},F.prototype.forEach=function(t){this.content.forEach(t)},F.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},F.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},$.textContent.get=function(){return this.textBetween(0,this.content.size,"")},F.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},$.firstChild.get=function(){return this.content.firstChild},$.lastChild.get=function(){return this.content.lastChild},F.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},F.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},F.prototype.hasMarkup=function(t,e,n){return this.type==t&&u(this.attrs,e||t.defaultAttrs||N)&&d.sameSet(this.marks,n||d.none)},F.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},F.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},F.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},F.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return f.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new f(a,r.depth-i,o.depth-i)},F.prototype.replace=function(t,e,n){return y(this.resolve(t),this.resolve(e),n)},F.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(!(e=e.maybeChild(r)))return null;if(o==t||e.isText)return e;t-=o+1}},F.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},F.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},F.prototype.resolve=function(t){return R.resolveCached(this,t)},F.prototype.resolveNoCache=function(t){return R.resolve(this,t)},F.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},$.isBlock.get=function(){return this.type.isBlock},$.isTextblock.get=function(){return this.type.isTextblock},$.inlineContent.get=function(){return this.type.inlineContent},$.isInline.get=function(){return this.type.isInline},$.isText.get=function(){return this.type.isText},$.isLeaf.get=function(){return this.type.isLeaf},$.isAtom.get=function(){return this.type.isAtom},F.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),B(this.marks,t)},F.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},F.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=a.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(t).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var l=r;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0},F.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},F.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},F.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=d.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!d.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},F.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},F.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=a.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(F.prototype,$);var P=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):B(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(F);function B(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var j=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},W={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};j.parse=function(t,e){var n=new D(t,e);if(null==n.next)return j.empty;var r=J(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return n(U(t,0));function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];U(t,r).forEach((function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var i=e[r.join(",")]=new j(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(K);i.next.push(o[s],e[a.join(",")]||n(a))}return i}}(function(t){var e=[[]];return o(i(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}function i(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(i(n,e))}),[]);if("seq"==t.type)for(var s=0;;s++){var a=i(t.exprs[s],e);if(s==t.exprs.length-1)return a;o(a,e=n())}else{if("star"==t.type){var l=n();return r(e,l),o(i(t.expr,l),l),[r(l)]}if("plus"==t.type){var p=n();return o(i(t.expr,e),p),o(i(t.expr,p),p),[r(p)]}if("opt"==t.type)return[r(e)].concat(i(t.expr,e));if("range"==t.type){for(var c=e,u=0;u<t.min;u++){var d=n();o(i(t.expr,c),d),c=d}if(-1==t.max)o(i(t.expr,c),c);else for(var h=t.min;h<t.max;h++){var f=n();r(c,f),o(i(t.expr,c),f),c=f}return[r(c)]}if("name"==t.type)return[r(e,null,t.value)]}}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var l=o.next[a],p=o.next[a+1];s.push(l.name),!i||l.isText||l.hasRequiredAttrs()||(i=!1),-1==r.indexOf(p)&&r.push(p)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},j.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},j.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},W.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},W.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},j.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},j.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(i,s){var l=i.matchFragment(t,n);if(l&&(!e||l.validEnd))return a.from(s.map((function(t){return t.createAndFill()})));for(var p=0;p<i.next.length;p+=2){var c=i.next[p],u=i.next[p+1];if(!c.isText&&!c.hasRequiredAttrs()&&-1==r.indexOf(u)){r.push(u);var d=o(u,s.concat(c));if(d)return d}}}(this,[])},j.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},j.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var l=o.next[a];l.isLeaf||l.hasRequiredAttrs()||l.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:l.contentMatch,type:l,via:r}),e[l.name]=!0)}}},W.edgeCount.get=function(){return this.next.length>>1},j.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},j.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(j.prototype,W),j.empty=new j(!0);var D=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},L={next:{configurable:!0}};function J(t){var e=[];do{e.push(_(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function _(t){var e=[];do{e.push(q(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function q(t){for(var e=function(t){if(t.eat("(")){var e=J(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=H(t,e)}return e}function V(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function H(t,e){var n=V(t),r=n;return t.eat(",")&&(r="}"!=t.next?V(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function K(t,e){return e-t}function U(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,l=s.to;a||-1!=n.indexOf(l)||e(l)}}(e),n.sort(K)}function G(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function X(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function Q(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new et(t[n]);return e}L.next.get=function(){return this.tokens[this.pos]},D.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},D.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(D.prototype,L);var Y=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=Q(n.attrs),this.defaultAttrs=G(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},tt={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};tt.isInline.get=function(){return!this.isBlock},tt.isTextblock.get=function(){return this.isBlock&&this.inlineContent},tt.isLeaf.get=function(){return this.contentMatch==j.empty},tt.isAtom.get=function(){return this.isLeaf||this.spec.atom},Y.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},Y.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},Y.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:X(this.attrs,t)},Y.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new F(this,this.computeAttrs(t),a.from(e),d.setFrom(n))},Y.prototype.createChecked=function(t,e,n){if(e=a.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new F(this,this.computeAttrs(t),e,d.setFrom(n))},Y.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=a.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(a.empty,!0);return o?new F(this,t,e.append(o),d.setFrom(n)):null},Y.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},Y.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},Y.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},Y.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:d.empty:t},Y.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new Y(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(Y.prototype,tt);var et=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},nt={isRequired:{configurable:!0}};nt.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(et.prototype,nt);var rt=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=Q(r.attrs),this.rank=e,this.excluded=null;var o=G(this.attrs);this.instance=o&&new d(this,o)};rt.prototype.create=function(t){return!t&&this.instance?this.instance:new d(this,X(this.attrs,t))},rt.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,o){return n[t]=new rt(t,r++,e,o)})),n},rt.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},rt.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},rt.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var ot=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=o.from(t.nodes),this.spec.marks=o.from(t.marks),this.nodes=Y.compile(this.spec.nodes,this),this.marks=rt.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=n[s]||(n[s]=j.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==a?null:a?it(this,a.split(" ")):""!=a&&i.inlineContent?null:[]}for(var l in this.marks){var p=this.marks[l],c=p.spec.excludes;p.excluded=null==c?[p]:""==c?[]:it(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function it(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var l=t.marks[a];("_"==o||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}ot.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof Y))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},ot.prototype.text=function(t,e){var n=this.nodes.text;return new P(n,n.defaultAttrs,t,d.setFrom(e))},ot.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},ot.prototype.nodeFromJSON=function(t){return F.fromJSON(this,t)},ot.prototype.markFromJSON=function(t){return d.fromJSON(this,t)},ot.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var st=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};st.prototype.parse=function(t,e){void 0===e&&(e={});var n=new dt(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},st.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new dt(this,e,!0);return n.addAll(t,null,e.from,e.to),f.maxOpen(n.finish())},st.prototype.matchTag=function(t,e,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(ft(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(t);if(!1===i)continue;o.attrs=i}return o}}},st.prototype.matchStyle=function(t,e,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(t)||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var s=i.getAttrs(e);if(!1===s)continue;i.attrs=s}return i}}},st.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var o=e[r];if((null==o.priority?50:o.priority)<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=mt(t)),t.mark=e}))};for(var o in t.marks)r(o);var i=function(e){var r=t.nodes[s].spec.parseDOM;r&&r.forEach((function(t){n(t=mt(t)),t.node=s}))};for(var s in t.nodes)i();return e},st.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new st(t,st.schemaRules(t)))};var at={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},lt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},pt={ol:!0,ul:!0};function ct(t){return(t?1:0)|("full"===t?2:0)}var ut=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=d.none,this.pendingMarks=r,this.stashMarks=[]};ut.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(a.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},ut.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=a.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},ut.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},ut.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):vt(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},ut.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!at.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var dt=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=ct(e.preserveWhitespace)|(n?4:0);r=o?new ut(o.type,o.attrs,d.none,d.none,!0,e.topMatch||o.type.contentMatch,i):new ut(n?null:t.schema.topNodeType,null,d.none,d.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},ht={top:{configurable:!0},currentPos:{configurable:!0}};function ft(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function mt(t){var e={};for(var n in t)e[n]=t[n];return e}function vt(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,a=r.next;if(o==e)return!0;if(i.indexOf(a)<0&&s(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}ht.top.get=function(){return this.nodes[this.open]},dt.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},dt.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},dt.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();pt.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&pt.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:lt.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,s=this.top,a=this.needsBlock;if(at.hasOwnProperty(r))i=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,o,!1===o.consuming?n:null)},dt.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},dt.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},dt.prototype.readStyles=function(t){var e=d.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,r);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;r=o}return e},dt.prototype.addElementByRule=function(t,e,n){var r,o,i,s=this;e.node?(o=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var l=e.contentElement;"string"==typeof l?l=t.querySelector(l):"function"==typeof l&&(l=l(t)),l||(l=t),this.findAround(t,l,!0),this.addAll(l,r)}r&&(this.sync(a),this.open--),i&&this.removePendingMark(i,a)},dt.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&at.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},dt.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},dt.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},dt.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},dt.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?-5&o.options:ct(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new ut(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},dt.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},dt.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},dt.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},ht.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},dt.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},dt.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},dt.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},dt.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},dt.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var l=n[t];if(""==l){if(t==n.length-1||0==t)continue;for(;a>=i;a--)if(s(t-1,a))return!0;return!1}var p=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!p||p.name!=l&&-1==p.groups.indexOf(l))return!1;a--}return!0};return s(n.length-1,this.open)},dt.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},dt.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},dt.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var o=r.popFromStashMark(t);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(dt.prototype,ht);var gt=function(t,e){this.nodes=t||{},this.marks=e||{}};function yt(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function bt(t){return t.document||window.document}gt.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=bt(e).createDocumentFragment());var o=n,i=null;return t.forEach((function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(i[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var l=t.marks[s++],p=r.serializeMark(l,t.isInline,e);p&&(i.push(l,o),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(r.serializeNodeInner(t,e))})),n},gt.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=gt.renderSpec(bt(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},gt.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},gt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&gt.renderSpec(bt(n),r(t,e))},gt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var p in l=2,a)if(null!=a[p]){var c=p.indexOf(" ");c>0?s.setAttributeNS(p.slice(0,c),p.slice(c+1),a[p]):s.setAttribute(p,a[p])}for(var u=l;u<e.length;u++){var d=e[u];if(0===d){if(u<e.length-1||u>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var h=gt.renderSpec(t,d,n),f=h.dom,m=h.contentDOM;if(s.appendChild(f),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:s,contentDOM:i}},gt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new gt(this.nodesFromSchema(t),this.marksFromSchema(t)))},gt.nodesFromSchema=function(t){var e=yt(t.nodes);return e.text||(e.text=function(t){return t.text}),e},gt.marksFromSchema=function(t){return yt(t.marks)}},6922:function(t,e,n){"use strict";n.r(e),n.d(e,{AllSelection:function(){return h},EditorState:function(){return S},NodeSelection:function(){return u},Plugin:function(){return O},PluginKey:function(){return E},Selection:function(){return s},SelectionRange:function(){return l},TextSelection:function(){return p},Transaction:function(){return g}});var r=n(8638),o=n(1081),i=Object.create(null),s=function(t,e,n){this.ranges=n||[new l(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},a={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};a.anchor.get=function(){return this.$anchor.pos},a.head.get=function(){return this.$head.pos},a.from.get=function(){return this.$from.pos},a.to.get=function(){return this.$to.pos},a.$from.get=function(){return this.ranges[0].$from},a.$to.get=function(){return this.ranges[0].$to},a.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},s.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},s.prototype.replace=function(t,e){void 0===e&&(e=r.Slice.empty);for(var n=e.content.lastChild,o=null,i=0;i<e.openEnd;i++)o=n,n=n.lastChild;for(var s=t.steps.length,a=this.ranges,l=0;l<a.length;l++){var p=a[l],c=p.$from,u=p.$to,d=t.mapping.slice(s);t.replaceRange(d.map(c.pos),d.map(u.pos),l?r.Slice.empty:e),0==l&&v(t,s,(n?n.isInline:o&&o.isTextblock)?-1:1)}},s.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],s=i.$from,a=i.$to,l=t.mapping.slice(n),p=l.map(s.pos),c=l.map(a.pos);o?t.deleteRange(p,c):(t.replaceRangeWith(p,c,e),v(t,n,e.isInline?-1:1))}},s.findFrom=function(t,e,n){var r=t.parent.inlineContent?new p(t):m(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var o=t.depth-1;o>=0;o--){var i=e<0?m(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):m(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(i)return i}},s.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new h(t.node(0))},s.atStart=function(t){return m(t,t,0,0,1)||new h(t)},s.atEnd=function(t){return m(t,t,t.content.size,t.childCount,-1)||new h(t)},s.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=i[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},s.jsonID=function(t,e){if(t in i)throw new RangeError("Duplicate use of selection JSON ID "+t);return i[t]=e,e.prototype.jsonID=t,e},s.prototype.getBookmark=function(){return p.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(s.prototype,a),s.prototype.visible=!0;var l=function(t,e){this.$from=t,this.$to=e},p=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=r.Slice.empty),t.prototype.replace.call(this,e,n),n==r.Slice.empty){var o=this.$from.marksAcross(this.$to);o&&e.ensureMarks(o)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new c(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i||(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new e(n,r)},Object.defineProperties(e.prototype,n),e}(s);s.jsonID("text",p);var c=function(t,e){this.anchor=t,this.head=e};c.prototype.map=function(t){return new c(t.map(this.anchor),t.map(this.head))},c.prototype.resolve=function(t){return p.between(t.resolve(this.anchor),t.resolve(this.head))};var u=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=o.pos,a=n.resolve(s);return i?t.near(a):new e(a)},e.prototype.content=function(){return new r.Slice(r.Fragment.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new d(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(s);u.prototype.visible=!1,s.jsonID("node",u);var d=function(t){this.anchor=t};d.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new c(r,r):new d(r)},d.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&u.isSelectable(n)?new u(e):s.near(e)};var h=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=r.Slice.empty),n==r.Slice.empty){e.delete(0,e.doc.content.size);var o=t.atStart(e.doc);o.eq(e.selection)||e.setSelection(o)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return f},e}(s);s.jsonID("all",h);var f={map:function(){return this},resolve:function(t){return new h(t)}};function m(t,e,n,r,o,i){if(e.inlineContent)return p.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&u.isSelectable(a))return u.create(t,n-(o<0?a.nodeSize:0))}else{var l=m(t,a,n+o,o<0?a.childCount:0,o,i);if(l)return l}n+=a.nodeSize*o}}function v(t,e,n){var r=t.steps.length-1;if(!(r<e)){var i,a=t.steps[r];if(a instanceof o.Pu||a instanceof o.FC)t.mapping.maps[r].forEach((function(t,e,n,r){null==i&&(i=r)})),t.setSelection(s.near(t.doc.resolve(i),n))}}var g=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return r.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.Mark.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(o.wx);function y(t,e){return e&&t?t.bind(e):t}var b=function(t,e,n){this.name=t,this.init=y(e.init,n),this.apply=y(e.apply,n)},w=[new b("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new b("selection",{init:function(t,e){return t.selection||s.atStart(e.doc)},apply:function(t){return t.selection}}),new b("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new b("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],x=function(t,e){var n=this;this.schema=t,this.fields=w.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new b(t.key,t.spec.state,t))}))},S=function(t){this.config=t},k={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};k.schema.get=function(){return this.config.schema},k.plugins.get=function(){return this.config.plugins},S.prototype.apply=function(t){return this.applyTransaction(t).state},S.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},S.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,l=r?r[i].state:this,p=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,l,n);if(p&&n.filterTransaction(p,i)){if(p.setMeta("appendedTransaction",t),!r){r=[];for(var c=0;c<this.config.plugins.length;c++)r.push(c<i?{state:n,n:e.length}:{state:this,n:0})}e.push(p),n=n.applyInner(p),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},S.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new S(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<C.length;i++)C[i](this,t,e);return e},k.tr.get=function(){return new g(this)},S.create=function(t){for(var e=new x(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new S(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},S.prototype.reconfigure=function(t){for(var e=new x(this.schema,t.plugins),n=e.fields,r=new S(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},S.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},S.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var o=new x(t.schema,t.plugins),i=new S(o);return o.fields.forEach((function(o){if("doc"==o.name)i.doc=r.Node.fromJSON(t.schema,e.doc);else if("selection"==o.name)i.selection=s.fromJSON(i.doc,e.selection);else if("storedMarks"==o.name)e.storedMarks&&(i.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var a in n){var l=n[a],p=l.spec.state;if(l.key==o.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(e,a))return void(i[o.name]=p.fromJSON.call(l,t,e[a],i))}i[o.name]=o.init(t,i)}})),i},S.addApplyListener=function(t){C.push(t)},S.removeApplyListener=function(t){var e=C.indexOf(t);e>-1&&C.splice(e,1)},Object.defineProperties(S.prototype,k);var C=[];function M(t,e,n){for(var r in t){var o=t[r];o instanceof Function?o=o.bind(e):"handleDOMEvents"==r&&(o=M(o,e,{})),n[r]=o}return n}var O=function(t){this.props={},t.props&&M(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:I("plugin")};O.prototype.getState=function(t){return t[this.key]};var R=Object.create(null);function I(t){return t in R?t+"$"+ ++R[t]:(R[t]=0,t+"$")}var E=function(t){void 0===t&&(t="key"),this.key=I(t)};E.prototype.get=function(t){return t.config.pluginsByKey[this.key]},E.prototype.getState=function(t){return t[this.key]}},1081:function(t,e,n){"use strict";n.d(e,{vs:function(){return l},FC:function(){return g},Pu:function(){return v},KS:function(){return a},wx:function(){return c},Mn:function(){return C},Ax:function(){return k},nj:function(){return O},nd:function(){return x},k9:function(){return w}});var r=n(8638),o=Math.pow(2,16);function i(t){return 65535&t}var s=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},a=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};a.prototype.recover=function(t){var e=0,n=i(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/o}(t)},a.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},a.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},a.prototype._map=function(t,e,n){for(var r=0,i=this.inverted?2:1,a=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var p=this.ranges[l]-(this.inverted?r:0);if(p>t)break;var c=this.ranges[l+i],u=this.ranges[l+a],d=p+c;if(t<=d){var h=p+r+((c?t==p?-1:t==d?1:e:e)<0?0:u);if(n)return h;var f=t==(e<0?p:d)?null:l/3+(t-p)*o;return new s(h,e<0?t!=p:t!=d,f)}r+=u-c}return n?t+r:new s(t+r)},a.prototype.touches=function(t,e){for(var n=0,r=i(e),o=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;var p=this.ranges[a+o];if(t<=l+p&&a==3*r)return!0;n+=this.ranges[a+s]-p}return!1},a.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),l=this.ranges[r+e],p=this.ranges[r+n];t(s,s+l,a,a+p),o+=p-l}},a.prototype.invert=function(){return new a(this.ranges,!this.inverted)},a.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},a.offset=function(t){return 0==t?a.empty:new a(t<0?[0,-t,0]:[0,0,t])},a.empty=new a([]);var l=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function p(t){var e=Error.call(this,t);return e.__proto__=p.prototype,e}l.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new l(this.maps,this.mirror,t,e)},l.prototype.copy=function(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},l.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},l.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},l.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},l.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},l.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},l.prototype.invert=function(){var t=new l;return t.appendMappingInverted(this),t},l.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},l.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},l.prototype._map=function(t,e,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(t,e);if(null!=i.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,t=this.maps[a].recover(i.recover);continue}}i.deleted&&(r=!0),t=i.pos}return n?t:new s(t,r)},p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="TransformError";var c=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new l},u={before:{configurable:!0},docChanged:{configurable:!0}};function d(){throw new Error("Override me")}u.before.get=function(){return this.docs.length?this.docs[0]:this.doc},c.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new p(e.failed);return this},c.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},u.docChanged.get=function(){return this.steps.length>0},c.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(c.prototype,u);var h=Object.create(null),f=function(){};f.prototype.apply=function(t){return d()},f.prototype.getMap=function(){return a.empty},f.prototype.invert=function(t){return d()},f.prototype.map=function(t){return d()},f.prototype.merge=function(t){return null},f.prototype.toJSON=function(){return d()},f.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=h[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},f.jsonID=function(t,e){if(t in h)throw new RangeError("Duplicate use of step JSON ID "+t);return h[t]=e,e.prototype.jsonID=t,e};var m=function(t,e){this.doc=t,this.failed=e};m.ok=function(t){return new m(t,null)},m.fail=function(t){return new m(null,t)},m.fromReplace=function(t,e,n,o){try{return m.ok(t.replace(e,n,o))}catch(i){if(i instanceof r.ReplaceError)return m.fail(i.message);throw i}};var v=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&y(t,this.from,this.to)?m.fail("Structure replace would overwrite content"):m.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new a([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?r.Slice.empty:new r.Slice(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var o=this.slice.size+t.slice.size==0?r.Slice.empty:new r.Slice(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),o,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,r.Slice.fromJSON(t,n.slice),!!n.structure)},e}(f);f.jsonID("replace",v);var g=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(y(t,this.from,this.gapFrom)||y(t,this.gapTo,this.to)))return m.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return m.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?m.fromReplace(t,this.from,this.to,n):m.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new a([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,r.Slice.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(f);function y(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function b(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function w(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),o=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(o,i,e))return n;if(0==n||r.type.spec.isolating||!b(r,o,i))break}}function x(t,e,n,r){void 0===r&&(r=t);var o=function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}(t,e),i=o&&function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,l=r;a&&l<o;l++)a=a.matchType(n.child(l).type);if(!a||!a.validEnd)return null;return s}(r,e);return i?o.map(S).concat({type:e,attrs:n}).concat(i.map(S)):null}function S(t){return{type:t,attrs:null}}function k(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,l=n-2;a>i;a--,l--){var p=o.node(a),c=o.index(a);if(p.type.spec.isolating)return!1;var u=p.content.cutByIndex(c,p.childCount),d=r&&r[l]||p;if(d!=p&&(u=u.replaceChild(0,d.type.create(d.attrs))),!p.canReplace(c+1,p.childCount)||!d.type.validContent(u))return!1}var h=o.indexAfter(i),f=r&&r[0];return o.node(i).canReplaceWith(h,h,f?f.type:o.node(i+1).type)}function C(t,e){var n=t.resolve(e),r=n.index();return M(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function M(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function O(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,p=r.index(a)+(l>0?1:0),c=r.node(a),u=!1;if(1==s)u=c.canReplace(p,p,o);else{var d=c.contentMatchAt(p).findWrapping(o.firstChild.type);u=d&&c.canReplaceWith(p,p,d[0])}if(u)return 0==l?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function R(t,e,n){for(var o=[],i=0;i<t.childCount;i++){var s=t.child(i);s.content.size&&(s=s.copy(R(s.content,e,s))),s.isInline&&(s=e(s,n,i)),o.push(s)}return r.Fragment.fromArray(o)}f.jsonID("replaceAround",g),c.prototype.lift=function(t,e){for(var n=t.$from,o=t.$to,i=t.depth,s=n.before(i+1),a=o.after(i+1),l=s,p=a,c=r.Fragment.empty,u=0,d=i,h=!1;d>e;d--)h||n.index(d)>0?(h=!0,c=r.Fragment.from(n.node(d).copy(c)),u++):l--;for(var f=r.Fragment.empty,m=0,v=i,y=!1;v>e;v--)y||o.after(v+1)<o.end(v)?(y=!0,f=r.Fragment.from(o.node(v).copy(f)),m++):p++;return this.step(new g(l,p,s,a,new r.Slice(c.append(f),u,m),c.size-u,!0))},c.prototype.wrap=function(t,e){for(var n=r.Fragment.empty,o=e.length-1;o>=0;o--)n=r.Fragment.from(e[o].type.create(e[o].attrs,n));var i=t.start,s=t.end;return this.step(new g(i,s,i,s,new r.Slice(n,0,0),e.length,!0))},c.prototype.setBlockType=function(t,e,n,o){var i=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,o)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(i.doc,i.mapping.slice(s).map(e),n)){i.clearIncompatible(i.mapping.slice(s).map(e,1),n);var a=i.mapping.slice(s),l=a.map(e,1),p=a.map(e+t.nodeSize,1);return i.step(new g(l,p,l+1,p-1,new r.Slice(r.Fragment.from(n.create(o,null,t.marks)),0,0),1,!0)),!1}})),this},c.prototype.setNodeMarkup=function(t,e,n,o){var i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");e||(e=i.type);var s=e.create(n,null,o||i.marks);if(i.isLeaf)return this.replaceWith(t,t+i.nodeSize,s);if(!e.validContent(i.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new g(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new r.Slice(r.Fragment.from(s),0,0),1,!0))},c.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var o=this.doc.resolve(t),i=r.Fragment.empty,s=r.Fragment.empty,a=o.depth,l=o.depth-e,p=e-1;a>l;a--,p--){i=r.Fragment.from(o.node(a).copy(i));var c=n&&n[p];s=r.Fragment.from(c?c.type.create(c.attrs,s):o.node(a).copy(s))}return this.step(new v(t,t,new r.Slice(i.append(s),e,e),!0))},c.prototype.join=function(t,e){void 0===e&&(e=1);var n=new v(t-e,t+e,r.Slice.empty,!0);return this.step(n)};var I=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),o=t.resolve(this.from),i=o.node(o.sharedDepth(this.to)),s=new r.Slice(R(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),i),n.openStart,n.openEnd);return m.fromReplace(t,this.from,this.to,s)},e.prototype.invert=function(){return new E(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(f);f.jsonID("addMark",I);var E=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),o=new r.Slice(R(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return m.fromReplace(t,this.from,this.to,o)},e.prototype.invert=function(){return new I(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(f);function z(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}f.jsonID("removeMark",E),c.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,l,p){if(r.isInline){var c=r.marks;if(!n.isInSet(c)&&p.type.allowsMarkType(n.type)){for(var u=Math.max(l,t),d=Math.min(l+r.nodeSize,e),h=n.addToSet(c),f=0;f<c.length;f++)c[f].isInSet(h)||(s&&s.to==u&&s.mark.eq(c[f])?s.to=d:o.push(s=new E(u,d,c[f])));a&&a.to==u?a.to=d:i.push(a=new I(u,d,n))}}})),o.forEach((function(t){return r.step(t)})),i.forEach((function(t){return r.step(t)})),this},c.prototype.removeMark=function(t,e,n){var o=this;void 0===n&&(n=null);var i=[],s=0;return this.doc.nodesBetween(t,e,(function(o,a){if(o.isInline){s++;var l=null;if(n instanceof r.MarkType)for(var p,c=o.marks;p=n.isInSet(c);)(l||(l=[])).push(p),c=p.removeFromSet(c);else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length)for(var u=Math.min(a+o.nodeSize,e),d=0;d<l.length;d++){for(var h=l[d],f=void 0,m=0;m<i.length;m++){var v=i[m];v.step==s-1&&h.eq(i[m].style)&&(f=v)}f?(f.to=u,f.step=s):i.push({style:h,from:Math.max(a,t),to:u,step:s})}}})),i.forEach((function(t){return o.step(new E(t.from,t.to,t.style))})),this},c.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var o=this.doc.nodeAt(t),i=[],s=t+1,a=0;a<o.childCount;a++){var l=o.child(a),p=s+l.nodeSize,c=n.matchType(l.type,l.attrs);if(c){n=c;for(var u=0;u<l.marks.length;u++)e.allowsMarkType(l.marks[u].type)||this.step(new E(s,p,l.marks[u]))}else i.push(new v(s,p,r.Slice.empty));s=p}if(!n.validEnd){var d=n.fillBefore(r.Fragment.empty,!0);this.replace(s,s,new r.Slice(d,0,0))}for(var h=i.length-1;h>=0;h--)this.step(i[h]);return this},c.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=r.Slice.empty);var o=function(t,e,n,o){if(void 0===n&&(n=e),void 0===o&&(o=r.Slice.empty),e==n&&!o.size)return null;var i=t.resolve(e),s=t.resolve(n);return z(i,s,o)?new v(e,n,o):new T(i,s,o).fit()}(this.doc,t,e,n);return o&&this.step(o),this},c.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new r.Slice(r.Fragment.from(n),0,0))},c.prototype.delete=function(t,e){return this.replace(t,e,r.Slice.empty)},c.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var T=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var o=0;o<=t.depth;o++){var i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}this.placed=r.Fragment.empty;for(var s=t.depth;s>0;s--)this.placed=r.Fragment.from(t.node(s).copy(this.placed))},Z={depth:{configurable:!0}};function A(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(A(t.firstChild.content,e-1,n)))}function N(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(N(t.lastChild.content,e-1,n)))}function F(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function $(t,e,n){if(e<=0)return t;var o=t.content;return e>1&&(o=o.replaceChild(0,$(o.firstChild,e-1,1==o.childCount?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(r.Fragment.empty,!0)))),t.copy(o)}function P(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,i.content,s)?a:null}function B(t,e,n,o,i){if(e<n){var s=t.firstChild;t=t.replaceChild(0,s.copy(B(s.content,e+1,n,o,s)))}if(e>o){var a=i.contentMatchAt(0),l=a.fillBefore(t).append(t);t=l.append(a.matchFragment(l).fillBefore(r.Fragment.empty,!0))}return t}function j(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;o==e.start(r)&&n.push(r)}return n}Z.depth.get=function(){return this.frontier.length-1},T.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(e<0?this.$to:o.doc.resolve(e));if(!i)return null;for(var s=this.placed,a=o.depth,l=i.depth;a&&l&&1==s.childCount;)s=s.firstChild.content,a--,l--;var p=new r.Slice(s,a,l);return e>-1?new g(o.pos,e,this.$to.pos,this.$to.end(),p,n):p.size||o.pos!=this.$to.pos?new v(o.pos,i.pos,p):void 0},T.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,o=(e?(n=F(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var s=this.frontier[i],a=s.type,l=s.match,p=void 0,c=void 0;if(1==t&&(o?l.matchType(o.type)||(c=l.fillBefore(r.Fragment.from(o),!1)):a.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:i,parent:n,inject:c};if(2==t&&o&&(p=l.findWrapping(o.type)))return{sliceDepth:e,frontierDepth:i,parent:n,wrap:p};if(n&&l.matchType(n.type))break}},T.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,o=t.openEnd,i=F(e,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new r.Slice(e,n+1,Math.max(o,i.size+n>=e.size-o?n+1:0)),!0)},T.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,o=t.openEnd,i=F(e,n);if(i.childCount<=1&&n>0){var s=e.size-n<=n+i.size;this.unplaced=new r.Slice(A(e,n-1,1),n-1,s?n-1:o)}else this.unplaced=new r.Slice(A(e,n,1),n,o)},T.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,o=t.parent,i=t.inject,s=t.wrap;this.depth>n;)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var l=this.unplaced,p=o?o.content:l.content,c=l.openStart-e,u=0,d=[],h=this.frontier[n],f=h.match,m=h.type;if(i){for(var v=0;v<i.childCount;v++)d.push(i.child(v));f=f.matchFragment(i)}for(var g=p.size+e-(l.content.size-l.openEnd);u<p.childCount;){var y=p.child(u),b=f.matchType(y.type);if(!b)break;(++u>1||0==c||y.content.size)&&(f=b,d.push($(y.mark(m.allowedMarks(y.marks)),1==u?c:0,u==p.childCount?g:-1)))}var w=u==p.childCount;w||(g=-1),this.placed=N(this.placed,n,r.Fragment.from(d)),this.frontier[n].match=f,w&&g<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var x=0,S=p;x<g;x++){var k=S.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),S=k.content}this.unplaced=w?0==e?r.Slice.empty:new r.Slice(A(l.content,e-1,1),e-1,g<0?l.openEnd:e-1):new r.Slice(A(l.content,e,u),l.openStart,l.openEnd)},T.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!P(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},T.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,o=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=P(t,e,o,r,i);if(s){for(var a=e-1;a>=0;a--){var l=this.frontier[a],p=l.match,c=P(t,a,l.type,p,!0);if(!c||c.childCount)continue t}return{depth:e,fit:s,move:i?t.doc.resolve(t.after(e+1)):t}}}},T.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=N(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t},T.prototype.openFrontierNode=function(t,e,n){var o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=N(this.placed,this.depth,r.Fragment.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},T.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(r.Fragment.empty,!0);t.childCount&&(this.placed=N(this.placed,this.frontier.length,t))},Object.defineProperties(T.prototype,Z),c.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var o=this.doc.resolve(t),i=this.doc.resolve(e);if(z(o,i,n))return this.step(new v(t,e,n));var s=j(o,this.doc.resolve(e));0==s[s.length-1]&&s.pop();var a=-(o.depth+1);s.unshift(a);for(var l=o.depth,p=o.pos-1;l>0;l--,p--){var c=o.node(l).type.spec;if(c.defining||c.isolating)break;s.indexOf(l)>-1?a=l:o.before(l)==p&&s.splice(1,0,-l)}for(var u=s.indexOf(a),d=[],h=n.openStart,f=n.content,m=0;;m++){var g=f.firstChild;if(d.push(g),m==n.openStart)break;f=g.content}h>0&&d[h-1].type.spec.defining&&o.node(u).type!=d[h-1].type?h-=1:h>=2&&d[h-1].isTextblock&&d[h-2].type.spec.defining&&o.node(u).type!=d[h-2].type&&(h-=2);for(var y=n.openStart;y>=0;y--){var b=(y+h+1)%(n.openStart+1),w=d[b];if(w)for(var x=0;x<s.length;x++){var S=s[(x+u)%s.length],k=!0;S<0&&(k=!1,S=-S);var C=o.node(S-1),M=o.index(S-1);if(C.canReplaceWith(M,M,w.type,w.marks))return this.replace(o.before(S),k?i.after(S):e,new r.Slice(B(n.content,0,n.openStart,b),b,n.openEnd))}}for(var O=this.steps.length,R=s.length-1;R>=0&&(this.replace(t,e,n),!(this.steps.length>O));R--){var I=s[R];I<0||(t=o.before(I),e=i.after(I))}return this},c.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var o=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,t,n.type);null!=o&&(t=e=o)}return this.replaceRange(t,e,new r.Slice(r.Fragment.from(n),0,0))},c.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=j(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&r.end(l)-e!=r.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)}}}]);